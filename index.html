<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>Bella&Bona Assembly Tracking</title>

<style>
body {
  font-family: system-ui, sans-serif;
  background: #f6f6f6;
  padding: 16px;
}

.card {
  max-width: 420px;
  margin: auto;
  background: white;
  padding: 20px;
  border-radius: 14px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.1);
}

h1 {
  text-align: center;
  margin-bottom: 8px;
}

.logo {
  display: block;
  margin: 0 auto 12px;
  max-width: 160px;
}

label {
  font-weight: 600;
  display: block;
  margin-top: 14px;
}

input, select, textarea {
  width: 100%;
  padding: 10px;
  margin-top: 6px;
  border-radius: 8px;
  border: 1px solid #ccc;
}

.employees {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
}

.employees label {
  font-weight: normal;
}

.dishes {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 8px;
}

.dish {
  border: 1px solid #ccc;
  padding: 8px;
  border-radius: 8px;
  text-align: center;
}

button {
  margin-top: 20px;
  width: 100%;
  padding: 14px;
  font-size: 16px;
  background: #6b3fbf;
  color: white;
  border: none;
  border-radius: 10px;
}
</style>
</head>

<body>
<div class="card">

<img class="logo" src="https://bellabona.com/hubfs/logo-bellabona.svg" />

<h1>Assembly Tracking</h1>

<p>
1. Select date<br>
2. Tick all employees<br>
3. Enter dishes + quantities<br>
4. Submit
</p>

<form id="form">

<label>Date</label>
<input type="date" id="date" required />

<label>Employees</label>
<div class="employees">
<label><input type="checkbox" value="Joel"> Joel</label>
<label><input type="checkbox" value="Richa"> Richa</label>
<label><input type="checkbox" value="Jash"> Jash</label>
<label><input type="checkbox" value="Hamid"> Hamid</label>
<label><input type="checkbox" value="Varush"> Varush</label>
<label><input type="checkbox" value="Salman"> Salman</label>
</div>

<label>Dishes (Aâ€“Z) + Quantity</label>
<div class="dishes" id="dishes"></div>

<label>Role</label>
<select id="role">
<option>Main</option>
<option>Assist</option>
<option>Support</option>
</select>

<label>Comment (optional)</label>
<textarea id="comment"></textarea>

<button type="submit">Submit</button>

</form>
</div>

<script>
const dishContainer = document.getElementById("dishes");
const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");

letters.forEach(l => {
  dishContainer.innerHTML += `
    <div class="dish">
      <strong>${l}</strong><br>
      <input type="number" min="0" placeholder="Qty" data-letter="${l}">
    </div>`;
});

document.getElementById("form").addEventListener("submit", async e => {
  e.preventDefault();

  const employees = [...document.querySelectorAll(".employees input:checked")]
    .map(e => e.value);

  if (employees.length === 0) {
    alert("Select at least one employee");
    return;
  }

  const dishes = [...document.querySelectorAll(".dishes input")]
    .filter(i => i.value > 0)
    .map(i => `${i.dataset.letter}:${i.value}`)
    .join(" | ");

  const payload = {
    date: document.getElementById("date").value,
    employees,
    dishes,
    role: document.getElementById("role").value,
    comment: document.getElementById("comment").value
  };

  await fetch("https://script.google.com/macros/s/AKfycbyvz8zUDJp7D3Ei4aqS3qQ9rp8clITa1_Vy8o_mVnqC2K6TXntM5CKYvklfaIJ4fQ8tnw/exec", {
    method: "POST",
    body: JSON.stringify(payload)
  });

  alert("Saved");
  e.target.reset();
});
</script>

</body>
</html>

